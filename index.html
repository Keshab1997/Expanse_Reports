<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Expense Manager</title>
    
    <!-- ‡¶´‡¶®‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- FontAwesome Icon CDN (‡¶Ü‡¶á‡¶ï‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡¶∏ (DEFER ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶´‡¶æ‡¶∏‡ßç‡¶ü ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç‡ßü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
</head>
<body>

    <!-- ==========================
         GLOBAL LOADER (ADDED)
    ========================== -->
    <div id="globalLoader">
        <div class="spinner"></div>
        <div class="loader-text">Processing...</div>
    </div>

    <div class="dashboard-wrapper">
        
        <!-- ‡ßß. ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ (‡¶°‡ßá‡¶∏‡ßç‡¶ï‡¶ü‡¶™‡ßá ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶°, ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá ‡¶≤‡ßÅ‡¶ï‡¶æ‡¶®‡ßã) -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-brand">
                <i class="fa-solid fa-wallet"></i> 
                <span>ExpensePro</span>
                <!-- ‡¶ï‡ßç‡¶≤‡ßã‡¶ú ‡¶¨‡¶æ‡¶ü‡¶® (‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá) -->
                <button class="close-btn" id="closeSidebar"><i class="fa-solid fa-xmark"></i></button>
            </div>

            <ul class="sidebar-menu">
                <li>
                    <a href="index.html" class="active">
                        <i class="fa-solid fa-house"></i> <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="entry.html">
                        <i class="fa-solid fa-pen"></i> <span>Add Entry</span>
                    </a>
                </li>
                <li>
                    <a href="reports.html">
                        <i class="fa-solid fa-chart-pie"></i> <span>Reports</span>
                    </a>
                </li>
                <li>
                    <a href="profile.html">
                        <i class="fa-solid fa-user"></i> <span>Profile</span>
                    </a>
                </li>
            </ul>

            <div class="sidebar-footer">
                <a href="#" onclick="logout()" class="logout-btn">
                    <i class="fa-solid fa-right-from-bracket"></i> <span>Logout</span>
                </a>
            </div>
        </aside>

        <!-- ‡ß®. ‡¶Æ‡ßá‡¶á‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶∞‡¶ø‡ßü‡¶æ -->
        <div class="main-content">
            
            <!-- ‡¶ü‡¶™ ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
            <header class="topbar">
                
                <!-- ‡¶¨‡¶æ‡¶Æ ‡¶™‡¶æ‡¶∂: ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶™‡ßá‡¶ú‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá -->
                <div class="header-left">
                    <h2 class="page-title">Dashboard</h2>
                </div>

                <!-- ‡¶°‡¶æ‡¶® ‡¶™‡¶æ‡¶∂: ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶π‡ßç‡¶Ø‡¶æ‡¶Æ‡¶¨‡¶æ‡¶∞‡ßç‡¶ó‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá -->
                <div class="header-right" style="display: flex; align-items: center; gap: 15px;">
                    
                    <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶õ‡¶¨‡¶ø -->
                    <div class="top-profile">
                        <img src="https://via.placeholder.com/40" id="headerAvatar" class="header-avatar" alt="User">
                    </div>

                    <!-- ‡¶π‡ßç‡¶Ø‡¶æ‡¶Æ‡¶¨‡¶æ‡¶∞‡ßç‡¶ó‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶® (‡¶è‡¶ñ‡¶® ‡¶°‡¶æ‡¶® ‡¶¶‡¶ø‡¶ï‡ßá) -->
                    <button id="menuToggle" class="hamburger-btn">
                        <i class="fa-solid fa-bars"></i>
                    </button>
                    
                </div>
            </header>
            
            <!-- ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶¨‡¶°‡¶ø -->
            <div class="content-body">
                
                <!-- ‡¶ì‡ßü‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
                <div class="user-welcome">
                    <div class="welcome-text">
                        <h1 id="welcomeTitle">Hello, <span id="userName">User</span>!</h1>
                        <p>Overview for <span id="currentMonthName" class="highlight-text">this month</span>.</p>
                    </div>
                </div>

                <!-- ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° -->
                <div class="dashboard-grid">
                    <div class="stat-card blue">
                        <div class="icon-box"><i class="fa-solid fa-indian-rupee-sign"></i></div>
                        <div>
                            <div class="stat-title">Total Spent </div>
                            <div class="stat-value">‚Çπ<span id="totalMonth">0</span></div>
                        </div>
                    </div>
                    <div class="stat-card green">
                        <div class="icon-box"><i class="fa-solid fa-calendar-day"></i></div>
                        <div>
                            <div class="stat-title">Spent Today</div>
                            <div class="stat-value">‚Çπ<span id="totalToday">0</span></div>
                        </div>
                    </div>
                    <div class="stat-card orange">
                        <div class="icon-box"><i class="fa-solid fa-receipt"></i></div>
                        <div>
                            <div class="stat-title">Transactions</div>
                            <div class="stat-value" id="txCount">0</div>
                        </div>
                    </div>
                </div>

                <!-- ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
                <div class="charts-container">
                    <div class="chart-box">
                        <h3>üìÖ Daily Spending</h3>
                        <div class="chart-wrapper">
                            <canvas id="barChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-box">
                        <h3>üç∞ Top Categories</h3>
                        <div class="chart-wrapper">
                            <canvas id="pieChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- ‡¶∞‡¶ø‡¶∏‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® -->
                <div class="recent-section">
                    <div class="section-header">
                        <h3>üìù Recent Transactions</h3>
                        <a href="reports.html" class="view-all">View All <i class="fa-solid fa-arrow-right"></i></a>
                    </div>
                    <div class="table-responsive">
                        <table class="recent-table">
                            <tbody id="recentTableBody">
                                <tr><td colspan="3" class="loading-text">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

            </div> <!-- End content-body -->
        </div> <!-- End main-content -->
    </div>

    <!-- ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡¶∏ (DEFER ‡¶¶‡¶ø‡ßü‡ßá ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ) -->
    <script src="assets/js/config.js" defer></script>
    <script src="assets/js/auth.js" defer></script>
    <script src="assets/js/index.js" defer></script>
    <script src="assets/js/sidebar.js" defer></script>

</body>
</html>